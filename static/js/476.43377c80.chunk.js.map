{"version":3,"file":"static/js/476.43377c80.chunk.js","mappings":"qjJAaMA,EAAa,WACjB,IAaIC,EAbEC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,GADUC,EAAAA,EAAAA,YAAWC,EAAAA,GACJF,OACjBG,EAAiBC,aAAaC,QAAQ,kBACtCC,GAAYC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,OAAOC,IAAxB,IACxBC,GAAgBJ,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,OAAOG,QAAxB,IAC5BC,GAAoBN,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMM,SAASC,SAA1B,IAQtC,GANKZ,GAAuC,IAArBG,EAAUU,QAC/BlB,GAASmB,EAAAA,EAAAA,IAAgBjB,IAKD,MAAtBJ,EAASsB,SACXvB,EAAawB,OACR,GAA0B,uBAAtBvB,EAASsB,SAAmC,CAIrDvB,EAHsBkB,EAAkBO,KAAI,SAACN,GAAD,OAC1CR,EAAUe,MAAK,SAACC,GAAD,OAAUA,EAAKC,YAAcT,CAA7B,GAD2B,GAI7C,MACCnB,EAAagB,EAGf,IAIMa,EAAQ7B,EAAWyB,KAAI,SAACE,GAC5B,IAAIG,EAOFA,EALGH,EAAKI,YAAmC,WAArBJ,EAAKK,YAEjBL,EAAKI,YAAmC,WAArBJ,EAAKK,YAG1BL,EAAKI,WAFLE,EAFAC,EAOV,IAAMC,GAC2C,IAA/CjB,EAAkBkB,QAAQT,EAAKC,WAEjC,OACE,gBAAKS,UAAU,2BAAf,UACE,iBACEA,UAAU,OACVC,QAAS,kBAtBQ,SAACX,GACxBxB,EAASoC,EAAAA,EAAAA,UAAuBZ,GACjC,CAoBsBa,EAAiB,kBAAKb,GAAN,IAAYI,WAAYD,IAA9C,EAFX,WAIE,gBAAKW,IAAKX,EAAOO,UAAU,wBAAwBK,IAAI,SACvD,iBAAKL,UAAU,YAAf,WACE,iBAAKA,UAAU,iCAAf,WACE,eAAIA,UAAU,aAAd,SAA4BV,EAAKgB,kBACjC,SAAC,IAAD,CAAiBC,KAAMC,EAAAA,IAASC,MAAOX,EAAa,MAAQ,SAE9D,cAAGE,UAAU,YAAb,SAA0BV,EAAKoB,sBAXUpB,EAAKC,UAgBvD,IAED,OAAO,8BAAGC,GACX,EAED,EAAemB,EAAAA,KAAWjD,E,qGC5EpBkD,EAAY,WAChB,OACE,oBAASZ,UAAU,iCAAnB,UACE,oBAASA,UAAU,6CAAnB,UACE,SAACtC,EAAA,EAAD,OAIP,EAED,EAAeiD,EAAAA,KAAWC,E","sources":["component/Animals/AnimalCard.js","pages/Favorites.js"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useLocation } from \"react-router-dom\";\nimport homepageCards from \"../../data/homepageCards.json\";\nimport { fetchAnimalData } from \"../../store/animalSlice\";\nimport { modalActions } from \"../../store/modalSlice\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./AnimalCard.css\";\nimport catImage from \"../../assets/cats-small.jpg\";\nimport dogImage from \"../../assets/dogs-small.jpg\";\nimport AuthContext from \"../../store/AuthContext\";\n\nconst AnimalCard = () => {\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const authCtx = useContext(AuthContext);\n  const userId = authCtx.userId;\n  const expirationTime = localStorage.getItem(\"expirationTime\");\n  const stateData = useSelector((state) => state.animal.data);\n  const stateShowData = useSelector((state) => state.animal.showData);\n  const stateFavoriteData = useSelector((state) => state.favorite.favorites);\n\n  if (!expirationTime || stateData.length === 0) {\n    dispatch(fetchAnimalData(userId));\n  }\n\n  let animalData;\n\n  if (location.pathname === \"/\") {\n    animalData = homepageCards;\n  } else if (location.pathname === \"/animals/favorites\") {\n    const favoritesData = stateFavoriteData.map((favorite) =>\n      stateData.find((item) => item.animal_id === favorite)\n    );\n    animalData = favoritesData;\n  } else {\n    animalData = stateShowData;\n  }\n\n  const showModalHandler = (item) => {\n    dispatch(modalActions.showModal(item));\n  };\n\n  const cards = animalData.map((item) => {\n    let image;\n\n    if (!item.album_file && item.animal_kind === \"狗\") {\n      image = dogImage;\n    } else if (!item.album_file && item.animal_kind === \"貓\") {\n      image = catImage;\n    } else {\n      image = item.album_file;\n    }\n\n    const isFavorite =\n      stateFavoriteData.indexOf(item.animal_id) !== -1 ? true : false;\n\n    return (\n      <div className=\"col-10 col-md-4 col-lg-2\" key={item.animal_id}>\n        <div\n          className=\"card\"\n          onClick={() => showModalHandler({ ...item, album_file: image })}\n        >\n          <img src={image} className=\"card-img-top card-img\" alt=\"...\" />\n          <div className=\"card-body\">\n            <div className=\"d-flex justify-content-between\">\n              <h5 className=\"card-title\">{item.animal_Variety}</h5>\n              <FontAwesomeIcon icon={faHeart} color={isFavorite ? \"red\" : \"\"} />\n            </div>\n            <p className=\"card-text\">{item.animal_place}</p>\n          </div>\n        </div>\n      </div>\n    );\n  });\n\n  return <>{cards}</>;\n};\n\nexport default React.memo(AnimalCard);\n","import React from \"react\";\nimport \"./Favorites.css\";\nimport AnimalCard from \"../component/Animals/AnimalCard\";\n\nconst Favorites = () => {\n  return (\n    <section className=\"container animals-section mt-5\">\n      <section className=\"animal-cards-section d-flex flex-wrap my-5\">\n        <AnimalCard />\n      </section>\n    </section>\n  );\n};\n\nexport default React.memo(Favorites);\n"],"names":["AnimalCard","animalData","location","useLocation","dispatch","useDispatch","userId","useContext","AuthContext","expirationTime","localStorage","getItem","stateData","useSelector","state","animal","data","stateShowData","showData","stateFavoriteData","favorite","favorites","length","fetchAnimalData","pathname","homepageCards","map","find","item","animal_id","cards","image","album_file","animal_kind","catImage","dogImage","isFavorite","indexOf","className","onClick","modalActions","showModalHandler","src","alt","animal_Variety","icon","faHeart","color","animal_place","React","Favorites"],"sourceRoot":""}